# Generated by Chef, do not edit by hand!
[global]
  mon initial members = <%= node["ceph"]["mon_initial_members"] %>
  mon host = <%= @mon_host %>
  public network = <%= node["ceph"]["public_network"] %>
  cluster network = <%= node["ceph"]["cluster_network"] %>
<% node["ceph"]["config"]["global"].each do |key, value| -%>
  <%= key %> = <%= value %>
<% end -%>

[mon]
<% node["ceph"]["config"]["mon"].each do |key, value| -%>
  <%= key %> = <%= value %>
<% end -%>

<% if (! node["ceph"]["config"]["mds"].nil?) -%>
[mds]
  <% node["ceph"]["config"]["mds"].each do |key, value| -%>
  <%= key %> = <%= value %>
<%   end -%>
<% end -%>

[osd]
ceph osd crush location rack=<%= node['rack'] -%>, row=<%= node['row'] %>
<% node["ceph"]["config"]["osd"].each do |key, value| -%>
  <%= key %> = <%= value %>
<% end -%>

<% if ( @is_radosgw == 1 ) then -%>
[client.radosgw.<%= node[:hostname] %>]
  log file = /var/log/ceph/$id.log
  rgw socket path = /var/run/ceph/radosgw.client.radosgw.<%= node[:hostname] %>
  rgw swift url = https://<%= node["ceph"]["api_fqdn"] %>
  rgw swift url prefix = swift
  rgw dns name = <%= node["ceph"]["api_fqdn"] %>
<% node["ceph"]["config"]["rgw"].each do |key, value| -%>
  <%= key %> = <%= value %>
<%   end -%>
<% end -%>

# This must be the last line and will be ignored
